"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){switch(!0){case"function"==typeof define&&e.define===define&&!!define.amd:define(t);break;case"object"===("undefined"==typeof module?"undefined":_typeof(module))&&e===module.exports:module.exports=t();break;case!e.MultiSet:Object.defineProperty(e,"MultiSet",{value:t(),enumerable:!0});break;default:console.error("'MultiSet' is already defined on root object")}}(void 0,function(){function e(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.init(e)}function t(e,t){return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n),r=n.match(/[\w\$\@]+/g);n=r.pop();var o=(""+(i.value||i.get||i.set)).match(/@aliases:(.*?);/),a=o?o[1].match(/[\w\$]+/g):[];a.unshift(n);var u=n.match(/@@(.+)/);u=u?u[1]:"";var s=function(e,t){u?e[Symbol[u]]=i.value:Reflect.defineProperty(e,t,i)};a.forEach(function(t){~r.indexOf("static")&&s(e,t),s(e.prototype,t)})}),e}var n,i=0,r=1,o=(n={"static info":{name:"cell-multiset",description:"Fast JS MultiSet implementation.",version:"0.0.1",url:"https://github.com/unnoon/cell-multiset"},"static create":function(){"@aliases: spawn";var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return Object.create(e.prototype).init(t)},add:function(){for(var e,t=arguments.length,n=i;n<t;n++)e=arguments.length<=n+0?void 0:arguments[n+0],this.elements.set(e,(this.elements.get(e)||i)+r);return this},get cardinality(){"@aliases: size";var e=i;return this.elements.forEach(function(t){return e+=t}),e},set cardinality(e){console.warn(".cardinality/.size property is readonly.")},clear:function(){return this.elements.clear(),this},clone:function(){return e.create(this.values())},contains:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.elements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a[1]>this.multiplicity(a[0]))return!1}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return!0},difference:function(e){var t=this,n=void 0;return e.elements.forEach(function(e,i){n=t.multiplicity(i)-e,n<=0?t.elements.delete(i):t.elements.set(i,n)}),this},Difference:function(t){var n=this,i=e.create(),r=void 0;return t.elements.forEach(function(e,t){r=n.multiplicity(t)-e,r>0&&i.elements.set(t,r)}),i},each:function(e){"@aliases: forEach";var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=!0,i=!1,r=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(e.call(t,u[0],u[1],this)===!1)return!1}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!0},each$:function(e){"@aliases: forEach$, eachAll, forEachAll";var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=void 0,i=void 0,r=void 0,o=0,a=!0,u=!1,s=void 0;try{for(var l,c=this.elements[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)for(n=l.value,i=0,r=n[1];i<r;i++,o++)if(e.call(t,n[0],o,this)===!1)return!1}catch(e){u=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}return!0},entries:function(){return this.elements.entries()},equals:function(e){var t=this;return this.size===e.size&&e.each(function(e,n){return e!==t.multiplicity(n)})},has:function(e){"@aliases: isMember";return!!this.elements.get(e)},init:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];if(this.elements=new Map,e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.add(a)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}return this},intersection:function(e){"@aliases: and";var t=this,n=function(){var n=void 0;return t.elements.forEach(function(i,r){n=Math.min(i,e.multiplicity(r)),n?t.elements.set(r,n):t.elements.delete(r)}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},Intersection:function(t){"@aliases: And";var n=this,i=function(){var i=e.create(),r=void 0;return n.elements.forEach(function(e,n){r=Math.min(e,t.multiplicity(n)),r&&i.elements.set(n,r)}),{v:i}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v},isSubsetOf:function(e){"@aliases: isContainedIn";return e.contains(this)},keys:function(){"@aliases: underlyingElements";return this.elements.keys()},multiplicity:function(e){return this.elements.get(e)||i},remove:function(){"@aliases: delete";for(var e,t,n=arguments.length,r=i;r<n;r++)e=arguments.length<=r+0?void 0:arguments[r+0],t=this.elements.get(e),1===t?this.elements.delete(e):this.elements.set(e,Math.max(i,--t));return this},symmetricDifference:function(e){"@aliases: exclusion";var t=this,n=function(){var n=void 0;return e.elements.forEach(function(e,i){n=t.multiplicity(i)-e,n?t.elements.set(i,Math.abs(n)):t.elements.delete(i)}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},SymmetricDifference:function(e){"@aliases: Exclusion";var t=this,n=function(){var n=t.clone(),i=void 0;return e.elements.forEach(function(e,t){i=n.multiplicity(t)-e,i?n.elements.set(t,Math.abs(i)):n.elements.delete(t)}),{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},toString:function(e){"@aliases: stringify";var t=this,n=function(){var n="";switch(e){case-1:n+="({"+(""+Array.from(t.keys())).replace(/,/g,", ")+"}, {",t.each(function(e,t){return n+=("{"!==n[n.length-1]?", ":"")+"("+e+", "+t+")"}),n+="})";break;case 1:n+="[",t.each$(function(e){return n+=""+("["!==n?", ":"")+e}),n+="]";break;default:n+="{",t.each(function(e,t){return n+=""+("{"!==n?", ":"")+e+" => "+t}),n+="}"}return{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},union:function(e){"@aliases: or";var t=this;return e.elements.forEach(function(e,n){return t.elements.set(n,Math.max(e,t.multiplicity(n)))}),this},Union:function(e){"@aliases: Or";var t=this,n=function(){var n=t.clone();return e.elements.forEach(function(e,t){return n.elements.set(t,Math.max(e,n.multiplicity(t)))}),{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},values:function(){var e=[];return this.each$(function(t){return e.push(t)}),regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:case"end":return e.stop()}},e,this)})(e)}},_defineProperty(n,"@@iterator",function(){return this.elements.entries()}),_defineProperty(n,"static @@species",e),_defineProperty(n,"@@toStringTag","MultiSet"),n);return t(e,o),e.prototype});