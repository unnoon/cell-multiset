"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){switch(!0){case"function"==typeof define&&e.define===define&&!!define.amd:define(t);break;case"object"===("undefined"==typeof module?"undefined":_typeof(module))&&e===module.exports:module.exports=t();break;case!e.MultiSet:Reflect.defineProperty(e,"MultiSet",{value:t(),enumerable:!0});break;default:console.error("'MultiSet' is already defined on root object")}}(void 0,function(){function e(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.init(e)}function t(e,t){return[].concat(_toConsumableArray(Object.getOwnPropertySymbols(t)),_toConsumableArray(Object.keys(t))).forEach(function(r){var i=n(Object.getOwnPropertyDescriptor(t,r)),o=i.alias||[];o.unshift(r),o.forEach(function(t){Object.defineProperty(e,t,i),i.static&&e.hasOwnProperty("constructor")&&Object.defineProperty(e.constructor,t,i)})}),e}function n(e){var t=(""+(e.value||e.get||e.set)).match(/<\$attrs(.*?)>/),n=(""+(t?t[1]:e.value&&e.value[s]||"")).replace(/[\s]*([=\|\s])[\s]*/g,"$1"),i=n.match(/[!\$\w]+(=[\$\w]+(\|[\$\w]+)*)?/g)||[];return r(i,e),e.value&&void 0!==e.value[s]&&(e.value=e.value.value),e}function r(e,t){t.enumerable=!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,l=void 0;switch(!0){case!u.indexOf("!"):l=!1,u=u.slice(1);break;case!!~u.indexOf("="):l=u.match(/[\$\w]+/g),u=l.shift();break;default:l=!0}t[u]=l}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}var i,o,a,u=0,l=1,s=Symbol.for("cell-type.attrs"),c=(a={info:(i={},_defineProperty(i,s,"static !configurable !writable"),_defineProperty(i,"value",{name:"cell-multiset",description:"Fast JS MultiSet implementation.",version:"0.0.3",url:"https://github.com/unnoon/cell-multiset"}),i),create:function(){"<$attrs static alias=spawn>";var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return Object.create(e.prototype).init(t)},add:function(){for(var e,t=arguments.length,n=u;n<t;n++)e=arguments.length<=n+0?void 0:arguments[n+0],this.elements.set(e,(this.elements.get(e)||u)+l);return this},get cardinality(){"<$attrs alias=size>";var e=u;return this.elements.forEach(function(t){return e+=t}),e},set cardinality(e){console.warn(".cardinality/.size property is readonly.")},clear:function(){return this.elements.clear(),this},clone:function(){return e.create(this.values())},contains:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e.elements[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a[1]>this.multiplicity(a[0]))return!1}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!0},difference:function(e){var t=this,n=void 0;return e.elements.forEach(function(e,r){n=t.multiplicity(r)-e,n<=0?t.elements.delete(r):t.elements.set(r,n)}),this},Difference:function(t){var n=this,r=e.create(),i=void 0;return t.elements.forEach(function(e,t){i=n.multiplicity(t)-e,i>0&&r.elements.set(t,i)}),r},each:function(e){"<$attrs alias=forEach>";var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=!0,r=!1,i=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(e.call(t,u[0],u[1],this)===!1)return!1}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0},each$:function(e){"<$attrs alias=forEach$|eachAll|forEachAll>";var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=void 0,r=void 0,i=void 0,o=0,a=!0,u=!1,l=void 0;try{for(var s,c=this.elements[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)for(n=s.value,r=0,i=n[1];r<i;r++,o++)if(e.call(t,n[0],o,this)===!1)return!1}catch(e){u=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw l}}return!0},entries:function(){return this.elements.entries()},equals:function(e){var t=this;return this.size===e.size&&e.each(function(e,n){return e!==t.multiplicity(n)})},has:function(e){"<$attrs alias=isMember>";return!!this.elements.get(e)},init:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];if(this.elements=new Map,e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.add(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}return this},intersection:function(e){"<$attrs alias=and>";var t=this,n=function(){var n=void 0;return t.elements.forEach(function(r,i){n=Math.min(r,e.multiplicity(i)),n?t.elements.set(i,n):t.elements.delete(i)}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},Intersection:function(t){"<$attrs alias=And>";var n=this,r=function(){var r=e.create(),i=void 0;return n.elements.forEach(function(e,n){i=Math.min(e,t.multiplicity(n)),i&&r.elements.set(n,i)}),{v:r}}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v},isSubsetOf:function(e){"<$attrs alias=isContainedIn>";return e.contains(this)},keys:function(){"<$attrs alias=underlyingElements>";return this.elements.keys()},multiplicity:function(e){return this.elements.get(e)||u},remove:function(){"<$attrs alias=delete>";for(var e,t,n=arguments.length,r=u;r<n;r++)e=arguments.length<=r+0?void 0:arguments[r+0],t=this.elements.get(e),1===t?this.elements.delete(e):this.elements.set(e,Math.max(u,--t));return this},symmetricDifference:function(e){"<$attrs alias=exclusion>";var t=this,n=function(){var n=void 0;return e.elements.forEach(function(e,r){n=t.multiplicity(r)-e,n?t.elements.set(r,Math.abs(n)):t.elements.delete(r)}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},SymmetricDifference:function(e){"<$attrs alias=Exclusion>";var t=this,n=function(){var n=t.clone(),r=void 0;return e.elements.forEach(function(e,t){r=n.multiplicity(t)-e,r?n.elements.set(t,Math.abs(r)):n.elements.delete(t)}),{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},toString:function(e){"<$attrs alias=stringify>";var t=this,n=function(){var n="";switch(e){case-1:n+="({"+(""+Array.from(t.keys())).replace(/,/g,", ")+"}, {",t.each(function(e,t){return n+=("{"!==n[n.length-1]?", ":"")+"("+e+", "+t+")"}),n+="})";break;case 1:n+="[",t.each$(function(e){return n+=""+("["!==n?", ":"")+e}),n+="]";break;default:n+="{",t.each(function(e,t){return n+=""+("{"!==n?", ":"")+e+" => "+t}),n+="}"}return{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},union:function(e){"<$attrs alias=or>";var t=this;return e.elements.forEach(function(e,n){return t.elements.set(n,Math.max(e,t.multiplicity(n)))}),this},Union:function(e){"<$attrs alias=Or>";var t=this,n=function(){var n=t.clone();return e.elements.forEach(function(e,t){return n.elements.set(t,Math.max(e,n.multiplicity(t)))}),{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v},values:function(){var e=[];return this.each$(function(t){return e.push(t)}),regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:case"end":return e.stop()}},e,this)})(e)}},_defineProperty(a,Symbol.iterator,function(){return this.elements.entries()}),_defineProperty(a,Symbol.species,(o={},_defineProperty(o,s,"static"),_defineProperty(o,"value",e),o)),_defineProperty(a,Symbol.toStringTag,"MultiSet"),a);return t(e.prototype,c),e.prototype});